<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>쇼핑 리스트</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f0f4f8;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 40px 16px;
    }

    .app {
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.1);
      width: 100%;
      max-width: 480px;
      overflow: hidden;
    }

    .header {
      background: #4f46e5;
      color: #fff;
      padding: 24px;
    }

    .header h1 {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .header .subtitle {
      font-size: 0.85rem;
      opacity: 0.8;
    }

    .input-area {
      display: flex;
      gap: 8px;
      padding: 20px;
      border-bottom: 1px solid #e5e7eb;
    }

    .input-area input {
      flex: 1;
      padding: 10px 14px;
      border: 1.5px solid #d1d5db;
      border-radius: 8px;
      font-size: 0.95rem;
      outline: none;
      transition: border-color 0.2s;
    }

    .input-area input:focus {
      border-color: #4f46e5;
    }

    .input-area button {
      padding: 10px 18px;
      background: #4f46e5;
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s;
      white-space: nowrap;
    }

    .input-area button:hover {
      background: #4338ca;
    }

    .filter-bar {
      display: flex;
      gap: 6px;
      padding: 12px 20px;
      border-bottom: 1px solid #e5e7eb;
    }

    .filter-bar button {
      padding: 5px 14px;
      border: 1.5px solid #d1d5db;
      border-radius: 20px;
      background: #fff;
      font-size: 0.8rem;
      cursor: pointer;
      transition: all 0.2s;
      color: #6b7280;
    }

    .filter-bar button.active {
      background: #4f46e5;
      border-color: #4f46e5;
      color: #fff;
    }

    .list {
      padding: 12px 20px;
      min-height: 100px;
    }

    .empty {
      text-align: center;
      color: #9ca3af;
      padding: 40px 0;
      font-size: 0.95rem;
    }

    .item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 0;
      border-bottom: 1px solid #f3f4f6;
      animation: slideIn 0.2s ease;
    }

    .item:last-child {
      border-bottom: none;
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateY(-8px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .item input[type="checkbox"] {
      width: 20px;
      height: 20px;
      accent-color: #4f46e5;
      cursor: pointer;
      flex-shrink: 0;
    }

    .item-name {
      flex: 1;
      font-size: 0.95rem;
      color: #111827;
      transition: all 0.2s;
      word-break: break-all;
    }

    .item.checked .item-name {
      text-decoration: line-through;
      color: #9ca3af;
    }

    .delete-btn {
      background: none;
      border: none;
      cursor: pointer;
      color: #d1d5db;
      font-size: 1.1rem;
      padding: 4px;
      border-radius: 6px;
      transition: color 0.2s, background 0.2s;
      flex-shrink: 0;
      line-height: 1;
    }

    .delete-btn:hover {
      color: #ef4444;
      background: #fef2f2;
    }

    .footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 14px 20px;
      background: #f9fafb;
      border-top: 1px solid #e5e7eb;
      font-size: 0.82rem;
      color: #6b7280;
    }

    .clear-btn {
      background: none;
      border: none;
      color: #ef4444;
      font-size: 0.82rem;
      cursor: pointer;
      padding: 4px 8px;
      border-radius: 6px;
      transition: background 0.2s;
    }

    .clear-btn:hover {
      background: #fef2f2;
    }

    .clear-btn:disabled {
      color: #d1d5db;
      cursor: default;
      background: none;
    }
  </style>
</head>
<body>
  <div class="app">
    <div class="header">
      <h1>🛒 쇼핑 리스트</h1>
      <div class="subtitle" id="summary">아이템 0개</div>
    </div>

    <div class="input-area">
      <input
        type="text"
        id="item-input"
        placeholder="아이템 이름 입력..."
        maxlength="60"
      />
      <button onclick="addItem()">추가</button>
    </div>

    <div class="filter-bar">
      <button class="active" onclick="setFilter('all', this)">전체</button>
      <button onclick="setFilter('active', this)">미구매</button>
      <button onclick="setFilter('checked', this)">구매완료</button>
    </div>

    <div class="list" id="list"></div>

    <div class="footer">
      <span id="count-label">남은 항목: 0개</span>
      <button class="clear-btn" id="clear-btn" onclick="clearChecked()">
        완료 항목 삭제
      </button>
    </div>
  </div>

  <script>
    let items = JSON.parse(localStorage.getItem('shopping-items') || '[]');
    let filter = 'all';

    const input = document.getElementById('item-input');
    const listEl = document.getElementById('list');
    const summaryEl = document.getElementById('summary');
    const countLabel = document.getElementById('count-label');
    const clearBtn = document.getElementById('clear-btn');

    input.addEventListener('keydown', e => {
      if (e.key === 'Enter') addItem();
    });

    function save() {
      localStorage.setItem('shopping-items', JSON.stringify(items));
    }

    function addItem() {
      const name = input.value.trim();
      if (!name) return;
      items.unshift({ id: Date.now(), name, checked: false });
      input.value = '';
      save();
      render();
    }

    function toggleItem(id) {
      const item = items.find(i => i.id === id);
      if (item) item.checked = !item.checked;
      save();
      render();
    }

    function deleteItem(id) {
      items = items.filter(i => i.id !== id);
      save();
      render();
    }

    function clearChecked() {
      items = items.filter(i => !i.checked);
      save();
      render();
    }

    function setFilter(f, btn) {
      filter = f;
      document.querySelectorAll('.filter-bar button').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      render();
    }

    function render() {
      const total = items.length;
      const checkedCount = items.filter(i => i.checked).length;
      const remaining = total - checkedCount;

      summaryEl.textContent = `전체 ${total}개 · 구매완료 ${checkedCount}개`;
      countLabel.textContent = `남은 항목: ${remaining}개`;
      clearBtn.disabled = checkedCount === 0;

      const visible = items.filter(i => {
        if (filter === 'active') return !i.checked;
        if (filter === 'checked') return i.checked;
        return true;
      });

      if (visible.length === 0) {
        listEl.innerHTML = `<div class="empty">
          ${filter === 'all' ? '아이템을 추가해 보세요!' :
            filter === 'active' ? '미구매 항목이 없습니다.' :
            '구매완료 항목이 없습니다.'}
        </div>`;
        return;
      }

      listEl.innerHTML = visible.map(item => `
        <div class="item ${item.checked ? 'checked' : ''}" id="item-${item.id}">
          <input
            type="checkbox"
            ${item.checked ? 'checked' : ''}
            onchange="toggleItem(${item.id})"
          />
          <span class="item-name">${escapeHtml(item.name)}</span>
          <button class="delete-btn" onclick="deleteItem(${item.id})" title="삭제">✕</button>
        </div>
      `).join('');
    }

    function escapeHtml(str) {
      return str
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    }

    render();
    input.focus();
  </script>
</body>
</html>
